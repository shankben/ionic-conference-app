<ion-app [class.dark-theme]="dark">
  <ion-split-pane contentId="main-content">
    <ion-menu contentId="main-content">
      <ion-content>

        <ion-grid>
          <ion-row class="ion-align-items-center">
            <ion-col></ion-col>
            <ion-col>
              <img class="provider-logo" [src]="logo" />
            </ion-col>
            <ion-col></ion-col>
          </ion-row>
        </ion-grid>

        <ion-list lines="none">
          <ion-list-header>Conference</ion-list-header>
<!--
          <ion-menu-toggle
            autoHide="false"
            *ngFor="let p of appPages; let i = index">
            <ion-item
              [routerLink]="p.url"
              routerLinkActive="selected"
              routerDirection="root"
              detail="false">
              <ion-icon slot="start" [name]="p.icon + '-outline'"></ion-icon>
              <ion-label>{{ p.title }}</ion-label>
            </ion-item>
          </ion-menu-toggle>
-->

          <ion-menu-toggle autoHide="false">
            <ion-item
              routerLink="/app/tabs/schedule"
              routerLinkActive="active"
              routerDirection="root"
              detail="false">
              <ion-icon slot="start" name="calendar"></ion-icon>
              <ion-label>Schedule</ion-label>
            </ion-item>
          </ion-menu-toggle>
        </ion-list>

        <ion-list *ngIf="signedIn" lines="none">
          <ion-list-header>Account</ion-list-header>

          <ion-menu-toggle autoHide="false">
            <ion-item
              routerLink="/account"
              routerLinkActive="active"
              routerDirection="root"
              detail="false">

              <ion-avatar *ngIf="user && user.picture">
                <img [src]="user.picture" alt="avatar" />
              </ion-avatar>
              <ng-template #person>
                <ion-icon *ngElse slot="start" name="person"></ion-icon>
              </ng-template>

              <ion-label>Account</ion-label>
            </ion-item>
          </ion-menu-toggle>

          <ion-menu-toggle autoHide="false">
            <ion-item
              routerLink="/support"
              routerLinkActive="active"
              routerDirection="root"
              detail="false">
              <ion-icon slot="start" name="help"></ion-icon>
              <ion-label>Support</ion-label>
            </ion-item>
          </ion-menu-toggle>

          <ion-menu-toggle autoHide="false">
            <ion-item button (click)="signOut()" detail="false">
              <ion-icon slot="start" name="log-out"></ion-icon>
              <ion-label>Sign Out</ion-label>
            </ion-item>
          </ion-menu-toggle>
        </ion-list>

        <ion-list *ngIf="!signedIn" lines="none">
          <ion-list-header>Account</ion-list-header>

          <ion-menu-toggle autoHide="false">
            <ion-item
              routerLink="/signin"
              routerLinkActive="active"
              routerDirection="root"
              detail="false">
              <ion-icon slot="start" name="log-in"></ion-icon>
              <ion-label>Sign In</ion-label>
            </ion-item>
          </ion-menu-toggle>

          <ion-menu-toggle autoHide="false">
            <ion-item
              routerLink="/support"
              routerLinkActive="active"
              routerDirection="root"
              detail="false">
              <ion-icon slot="start" name="help"></ion-icon>
              <ion-label>Support</ion-label>
            </ion-item>
          </ion-menu-toggle>

          <ion-menu-toggle autoHide="false">
            <ion-item
              routerLink="/signup"
              routerLinkActive="active"
              routerDirection="root"
              detail="false">
              <ion-icon slot="start" name="person-add"></ion-icon>
              <ion-label>Signup</ion-label>
            </ion-item>
          </ion-menu-toggle>

          <ion-item>
            <ion-icon slot="start" name="moon-outline"></ion-icon>
            <ion-label>Firebase Mode</ion-label>
            <ion-toggle [(ngModel)]="dark"></ion-toggle>
          </ion-item>
        </ion-list>

        <ion-list lines="none">
          <ion-list-header>Tutorial</ion-list-header>
          <ion-menu-toggle autoHide="false">
            <ion-item button (click)="openTutorial()" detail="false">
              <ion-icon slot="start" name="hammer"></ion-icon>
              <ion-label>Show Tutorial</ion-label>
            </ion-item>
          </ion-menu-toggle>
        </ion-list>

        <ion-list *ngIf="weather" lines="none">
          <ion-list-header>Current Weather</ion-list-header>
          <ion-item>
            <ion-note>{{ weather.updatedAt }}</ion-note>
          </ion-item>
          <ion-item>
            <img class="provider-logo" [src]="weather.iconUrl" />
            <ion-label>{{ weather.description }}</ion-label>
            <ion-label>{{ weather.temp.toFixed(1) }} Â°F</ion-label>
          </ion-item>
        </ion-list>
      </ion-content>
    </ion-menu>

    <ion-router-outlet id="main-content"></ion-router-outlet>

  </ion-split-pane>
</ion-app>
